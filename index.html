<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Đặt hàng iPhone</title>
</head>
<body>
  <h2>Đặt hàng iPhone</h2>

  <form id="orderForm">
    <input name="ten" placeholder="Tên khách" required><br><br>
    <input name="sdt" placeholder="Số điện thoại" required><br><br>
    <input name="dia_chi" placeholder="Địa chỉ" required><br><br>

    <select name="san_pham">
      <option value="iPhone 15 Pro">iPhone 15 Pro</option>
      <option value="iPhone 15">iPhone 15</option>
    </select><br><br>

    <input name="so_luong" type="number" value="1" min="1"><br><br>

    <button type="submit">Đặt hàng</button>
  </form>

  <p id="result"></p>

  <script>
    const webhookUrl = "https://quyen123.app.n8n.cloud/webhook/dat-hang-iphone";

    document.getElementById("orderForm").addEventListener("submit", async (e) => {
      e.preventDefault();

      const form = e.target;
      const data = {
        ten: form.ten.value,
        sdt: form.sdt.value,
        dia_chi: form.dia_chi.value,
        san_pham: form.san_pham.value,
        so_luong: form.so_luong.value,
        thoi_gian: new Date().toLocaleString("vi-VN")
      };

      const res = await fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      document.getElementById("result").innerText =
        res.ok ? "✅ Đặt hàng thành công!" : "❌ Lỗi gửi đơn hàng";
    });
  </script>
</body>
</html>


